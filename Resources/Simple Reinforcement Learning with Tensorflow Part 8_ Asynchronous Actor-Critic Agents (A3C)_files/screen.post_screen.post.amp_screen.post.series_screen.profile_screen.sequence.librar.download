(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./src/components/post/PostByline.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),l=n.n(a),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(c),s=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(s),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(m),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(p),v=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),g=n.n(v),b=n("./node_modules/react/index.js"),E=n("./node_modules/graphql-tag/src/index.js"),h=n.n(E),w=n("./node_modules/react-redux/es/index.js"),I=n("./src/framework/design-system/components/index.js"),x=n("./src/framework/design-system/components/Box.jsx"),_=n("./src/components/format/Date.jsx"),y=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),C=n.n(y),j=function(){return{alignItems:"center",display:"flex"}},S=function(e){var t=e.avatar,n=e.button,r=e.description,o=e.title;C()(e,["avatar","button","description","title"]);return b.createElement(I.K,null,function(e){return b.createElement("div",{className:e(j)},b.createElement("div",null,t),b.createElement(I.b,{marginLeft:"12px",width:"100%"},b.createElement(I.b,{display:"flex"},b.createElement("div",{style:{flex:1}},b.createElement(I.d,{strong:!0},o)),n&&b.createElement("span",null,n)),b.createElement(I.d,null,r)))})},O=n("./src/framework/design-system/type/index.js"),k=n("./src/components/user/UserAvatar.jsx"),L=n("./src/util/numbers.js"),R=n("./src/util/routes.js"),A=n("./src/svg/star-15px.svg"),P=n("./src/svg/unlisted-19px.svg"),U=n("./src/components/user/UserFollowButton.jsx"),N=n("./src/styles/breakpoints.js");function M(){var e=o()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    mediumUrl\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    visibility\n    collection {\n      name\n      id\n      slug\n      ...collectionUrl_collection\n    }\n    creator {\n      name\n      username\n      id\n      bio\n      isFollowing\n      ...UserAvatar_user\n    }\n  }\n  ","\n  ","\n"]);return M=function(){return e},e}n.d(t,"a",function(){return F});var D={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},z=function(e,t){return g()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},N.xs(t),{marginBottom:"0px"})},T=function(e){function t(){return l()(this,t),u()(this,d()(t).apply(this,arguments))}return f()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.currentLocation,n=e.post,r=e.showBio,o=e.scale,a=void 0===o?"M":o,l=e.showStar,c=void 0===l?n.isLocked:l,i=e.hideCollection,s=void 0!==i&&i,u=n.id,m=n.creator,d=n.collection,p=n.statusForCollection,f=n.visibility,v=n.isPublished,g=D[a];if(!n||!u||!m)return null;var E=n.firstPublishedAt,h=m.username,w=m.name;if(!w||!h)return null;var y=b.createElement(k.c,{user:m,scale:g.avatarScale,link:!0}),C=r?b.createElement("div",null,m.bio):null,j="APPROVED"===p,N=g.showFollowButton?b.createElement(x.a,{marginLeft:"8px",xs:{display:"none"},flexShrink:"0"},b.createElement(U.c,{user:m,buttonSize:"COMPACT"})):null,M=b.createElement(I.K,null,function(e){return b.createElement(I.M,null,function(n){return b.createElement("div",{className:e(z(g.showFollowButton,n)),"data-test-id":"postByline"},b.createElement(O.a,{scale:"M",tag:"span",color:"DARKER",clamp:1},b.createElement(I.v,{href:Object(R.Eb)(h),inline:!0},w),d&&j&&!s?b.createElement("span",null," ","in"," ",b.createElement(I.v,{href:Object(R.v)(d,t),inline:!0},d.name)):null),N)})}),T=b.createElement(O.a,{scale:"M",tag:"span",clamp:1},C,b.createElement("div",null,v?b.createElement(I.v,{href:Object(R.U)(n),inline:!0},E&&b.createElement(_.a,{timestamp:E})):b.createElement("span",null,"Draft")," ","Â·"," ","UNLISTED"===f?b.createElement(O.a,{scale:"S",tag:"span"},b.createElement(P.a,null)," Unlisted"):b.createElement(b.Fragment,null,Object(L.d)(n.readingTime||0)," min read"),c&&b.createElement("span",{style:{paddingLeft:"4px"}},b.createElement(A.a,{style:{marginTop:"-2px"}}))));return b.createElement(S,{avatar:y,title:M,description:T})}}]),t}(b.Component),F=h()(M(),k.a,R.w);t.b=Object(w.b)(function(e){return{currentLocation:e.navigation.currentLocation}})(T)},"./src/components/post/bookmark/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(a),c=n("./node_modules/react/index.js"),i=n.n(c),s=n("./node_modules/graphql-tag/src/index.js"),u=n.n(s),m=n("./src/framework/design-system/components/index.js");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=i.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z",fillRule:"evenodd"}),f=function(e){return i.a.createElement("svg",d({width:25,height:25,viewBox:"0 0 25 25"},e),p)};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=i.a.createElement("path",{d:"M19 6v14.66h-.01a.5.5 0 0 1-.12.29.5.5 0 0 1-.7.03l-5.67-4.13-5.66 4.13a.5.5 0 0 1-.7-.03.48.48 0 0 1-.13-.29H6V6c0-1.1.9-2 2-2h9a2 2 0 0 1 2 2zM7.6 10.11l3.87 3.82 6.43-6.34-1.41-1.39-5.02 4.95L9 8.73 7.6 10.1z"}),b=function(e){return i.a.createElement("svg",v({width:25,height:25,viewBox:"0 0 25 25"},e),g)};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=i.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"}),w=function(e){return i.a.createElement("svg",E({width:25,height:25,viewBox:"0 0 25 25"},e),h)},I=n("./src/components/susi/SusiClickable.jsx"),x=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),_=n.n(x),y=n("./node_modules/react-apollo/react-apollo.esm.js");function C(){var e=l()(["\n  fragment WithSetReadingList_post on Post {\n    ...ReadingList_post\n  }\n  ","\n"]);return C=function(){return e},e}function j(){var e=l()(["\n  mutation unarchivePostDefault($targetPostId: ID!) {\n    unarchivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return j=function(){return e},e}function S(){var e=l()(["\n  mutation archivePostDefault($targetPostId: ID!) {\n    archivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function O(){var e=l()(["\n  mutation unbookmarkPostDefault($targetPostId: ID!) {\n    unbookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function k(){var e=l()(["\n  mutation bookmarkPostDefault($targetPostId: ID!) {\n    bookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function L(){var e=l()(["\n  fragment ReadingList_post on Post {\n    id\n    readingList\n  }\n"]);return L=function(){return e},e}var R=u()(L()),A=function(e,t,n){return _()({},t,function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return e({variables:{targetPostId:r},optimisticResponse:_()({__typename:"Mutation"},t,{__typename:"Post",id:r,readingList:o})})})},P=u()(k(),R),U=Object(y.f)(P,{props:function(e){var t=e.mutate;return A(t,"bookmarkPost","READING_LIST_BOOKMARKS")}}),N=u()(O(),R),M=Object(y.f)(N,{props:function(e){var t=e.mutate;return A(t,"unbookmarkPost","READING_LIST_NONE")}}),D=u()(S(),R),z=Object(y.f)(D,{props:function(e){var t=e.mutate;return A(t,"archivePost","READING_LIST_ARCHIVE")}}),T=u()(j(),R),F=Object(y.f)(T,{props:function(e){var t=e.mutate;return A(t,"unarchivePost","READING_LIST_QUEUE")}}),B=u()(C(),R),V=Object(y.d)(U,M,z,F)(function(e){var t=e.children,n=e.post,r=e.bookmarkPost,o=e.unbookmarkPost,a=e.archivePost,l=e.unarchivePost,c=n.id;if(!c)return null;return t(function(e){return function(){switch(n.readingList){case"READING_LIST_NONE":if("READING_LIST_BOOKMARKS"===e||"READING_LIST_QUEUE"===e)return r(c,e);break;case"READING_LIST_BOOKMARKS":case"READING_LIST_QUEUE":if("READING_LIST_NONE"===e)return o(c);if("READING_LIST_ARCHIVE"===e)return a(c);break;case"READING_LIST_ARCHIVE":if("READING_LIST_NONE"===e)return o(c);if("READING_LIST_QUEUE"===e)return l(c)}throw new Error('Invalid reading list change from "'.concat(n.readingList||"unkown",'" to "').concat(e,'".'))}})}),G=n("./src/components/session/WithViewer.jsx"),K=n("./src/framework/reporter/index.js"),H=n("./src/framework/source/index.js"),$=n("./src/util/routes.js");function W(){var e=l()(["\n  fragment BookmarkButton_post on Post {\n    ...SusiClickable_post\n    ...WithSetReadingList_post\n  }\n  ","\n  ","\n"]);return W=function(){return e},e}var Q=u()(W(),I.c,B),q=function(e){return{fill:e.baseColor.fill.light}};function X(e){var t=e.post,n=e.withTooltip,r=void 0===n||n,a=t.id,l=t.readingList,i=Object(K.c)(),s=Object(H.c)(),u=c.useState(r),d=o()(u,2),p=d[0],v=d[1],g=c.useCallback(function(e,t){l&&(i.event({READING_LIST_NONE:"post.addedBookmark",READING_LIST_BOOKMARKS:"post.removedBookmark",READING_LIST_ARCHIVE:"post.removedBookmark",READING_LIST_QUEUE:"post.addedArchive"}[l],{postId:a,source:s}),t(function(e,t){return{READING_LIST_NONE:e.mediumMemberAt?"READING_LIST_QUEUE":"READING_LIST_BOOKMARKS",READING_LIST_BOOKMARKS:"READING_LIST_NONE",READING_LIST_ARCHIVE:"READING_LIST_NONE",READING_LIST_QUEUE:"READING_LIST_ARCHIVE"}[t]}(e,l))(),r&&v(!1))},[a,l,s,r]),E=c.useCallback(function(){r&&v(!0)},[r]);return c.createElement(G.a,null,function(e){return e?l?c.createElement(m.K,null,function(n){return c.createElement("div",{className:n(q)},c.createElement(V,{post:t,viewer:e},function(t){return c.createElement(m.I,{isVisible:p,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return c.createElement(m.b,{padding:"8px"},function(e,t){return{READING_LIST_NONE:e.mediumMemberAt?"Save story":"Bookmark story",READING_LIST_BOOKMARKS:"Remove story from bookmarks",READING_LIST_ARCHIVE:"Remove story from reading list",READING_LIST_QUEUE:"Archive story"}[t]}(e,l))},onMouseLeave:E},c.createElement(m.v,{onClick:function(){return g(e,t)}},(n=l,{READING_LIST_NONE:c.createElement(f,null),READING_LIST_BOOKMARKS:c.createElement(w,null),READING_LIST_ARCHIVE:c.createElement(b,null),READING_LIST_QUEUE:c.createElement(w,null)}[n])));var n}))}):null:c.createElement(m.I,{isVisible:p,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return c.createElement(m.b,{padding:"8px"},"Bookmark story")}},c.createElement(I.a,{post:t,operation:"register",susiEntry:"bookmark_sidebar",actionUrl:Object($.j)(a)},c.createElement(f,null)))})}n.d(t,"a",function(){return X}),n.d(t,"b",function(){return Q})},"./src/components/post/multivote/MultiVote.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),l=n.n(a),c=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(c),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=n.n(s),m=n("./node_modules/react/index.js"),d=n.n(m),p=n("./node_modules/graphql-tag/src/index.js"),f=n.n(p),v=n("./node_modules/react-apollo/react-apollo.esm.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./src/util/post/claps.js"),E=n("./src/framework/design-system/components/index.js"),h=n("./src/styles/colors.js"),w=5,I=360/w,x={top:"0",left:"0",width:"60px",height:"60px"},_={top:"-2px",left:"0",width:"25px",height:"36px"},y=function(e){return l()({position:"absolute",pointerEvents:"none"},e?x:_)},C={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1"},"100%":{opacity:"0",transform:"scale(1.5)"}},j={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1",transform:"scale(1.3)"},"100%":{opacity:"0",transform:"scale(1.6)"}},S=function(e){return{animation:"370ms ease-out 1 ".concat(e)}},O=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(48,"%"),left:"".concat(-5,"px"),transformOrigin:"".concat(t+2+3,"px"),width:"".concat(2,"px"),height:"".concat(2,"px"),borderRadius:"50%",backgroundColor:h.g}},k=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(44,"%"),left:"".concat(-9,"px"),transformOrigin:"".concat(t+6+3,"px"),width:"0",height:"0",borderTop:"2px solid transparent",borderBottom:"2px solid transparent",borderLeft:"".concat(6,"px solid ").concat(h.b)}};function L(e){var t=e.isLarge,n=e.offset,r=e.onBurstEnd;return m.createElement(E.K,null,function(e){var o=e(y(t));return m.createElement(E.L,{keyframes:{dotKeyframesName:C,triangleKeyframesName:j}},function(a){for(var l=a.dotKeyframesName,c=a.triangleKeyframesName,i=[],s=[],u=0;u<w;u++){var d=I*u+n;i.push(m.createElement("div",{key:d,className:"".concat(e(O(t))),style:{transform:"rotate(".concat(d,"deg)")}})),s.push(m.createElement("div",{key:d,className:"".concat(e(k(t))),style:{transform:"rotate(".concat(d+13,"deg)")}}))}return m.createElement("div",{className:o},m.createElement("div",{className:"".concat(o," ").concat(e(S(l))),onAnimationEnd:function(){return r(n)}},i),m.createElement("div",{className:"".concat(o," ").concat(e(S(c)))},s))})})}var R=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),A=n.n(R),P=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),U=n.n(P),N=n("./src/components/session/WithFlag.jsx"),M=n("./src/svg/clap-25px.svg");function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var z=d.a.createElement("g",{fillRule:"evenodd"},d.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"})),T=function(e){return d.a.createElement("svg",D({width:29,height:29},e),z)};function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=d.a.createElement("path",{d:"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z",fillRule:"evenodd"}),V=function(e){return d.a.createElement("svg",F({width:33,height:33,viewBox:"0 0 33 33"},e),B)},G=n("./src/svg/clap-filled-25px.svg");function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var H=d.a.createElement("g",{fillRule:"evenodd"},d.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),d.a.createElement("path",{d:"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"})),$=function(e){return d.a.createElement("svg",K({width:29,height:29},e),H)};function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=d.a.createElement("g",{fillRule:"evenodd"},d.a.createElement("path",{d:"M29.58 17.1l-3.85-6.78c-.37-.54-.88-.9-1.44-.99a1.5 1.5 0 0 0-1.16.28c-.42.33-.65.74-.7 1.2v.01l3.63 6.37c2.46 4.5 1.67 8.8-2.33 12.8-.27.27-.54.5-.81.73a7.55 7.55 0 0 0 4.45-2.26c4.16-4.17 3.87-8.6 2.21-11.36zm-4.83.82l-3.58-6.3c-.3-.44-.73-.74-1.19-.81a1.1 1.1 0 0 0-.89.2c-.64.51-.75 1.2-.33 2.1l1.83 3.86a.6.6 0 0 1-.2.75.6.6 0 0 1-.77-.07l-9.44-9.44c-.51-.5-1.4-.5-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l5.6 5.61a.6.6 0 1 1-.84.85l-5.6-5.6-.01-.01-1.58-1.59a1.35 1.35 0 0 0-1.9 0 1.35 1.35 0 0 0 0 1.9l1.58 1.59 5.6 5.6a.6.6 0 0 1-.84.86L4.68 13.7c-.51-.51-1.4-.51-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l2.36 2.36 3.52 3.52a.6.6 0 0 1-.84.85l-3.53-3.52a1.34 1.34 0 0 0-.95-.4 1.34 1.34 0 0 0-.95 2.3l6.78 6.78c3.72 3.71 9.33 5.6 13.5 1.43 3.52-3.52 4.2-7.13 2.08-11.01zM11.82 7.72c.06-.32.21-.63.46-.89a1.74 1.74 0 0 1 2.4 0l3.23 3.24a2.87 2.87 0 0 0-.76 2.99l-5.33-5.33zM13.29.48l-1.92.88 2.37 2.84zM21.72 1.36L19.79.5l-.44 3.7zM16.5 3.3L15.48 0h2.04z"})),q=function(e){return d.a.createElement("svg",W({width:33,height:33},e),Q)};function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=d.a.createElement("path",{d:"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62",fillRule:"evenodd"}),J=function(e){return d.a.createElement("svg",X({width:29,height:29},e),Y)},Z=n("./src/styles/breakpoints.js"),ee=n("./src/util/useragent.js");var te=n("./node_modules/exenv/index.js"),ne=n.n(te).a.canUseDOM?m.useLayoutEffect:m.useEffect,re=200,oe="multi-vote-undo-revealed",ae={S:m.createElement(M.a,null),M:m.createElement(T,null),L:m.createElement(V,null)},le={S:m.createElement(G.a,null),M:m.createElement($,null),L:m.createElement(q,null)},ce={"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(1.4)",opacity:0},"100%":{opacity:0}},ie=function(e){return e?"accentColor":"baseColor"},se={left:"0",height:"100%",position:"absolute",top:"0",width:"100%"},ue=function(e){return function(t){return{backgroundColor:t.backgroundColor,border:"1px solid ".concat(t.baseColor.border.lighter),borderRadius:"50%",display:"flex",alignItems:"center",height:"60px",position:"relative",transition:"border-color 150ms ease",width:"60px",":hover":{borderColor:t[e].border.darker}}}},me=function(e){return{border:"1px solid ".concat(e.baseColor.border.darker)}},de={transform:"translateX(-35px)"},pe={transform:"translateX(0)",transition:"transform .2s ".concat("cubic-bezier(.25,0,.6,1.4)")},fe=U()({},":hover + .".concat(oe),de),ve=function(e){var t;return t={},U()(t,Z.sm(e),{display:"none"}),U()(t,"border","none"),U()(t,"cursor","pointer"),U()(t,"fill",e.baseColor.fill.lighter),U()(t,"left","4px"),U()(t,"outline","none"),U()(t,"padding","0"),U()(t,"position","absolute"),U()(t,"transition","transform .3s ".concat("cubic-bezier(.25,0,.6,1.4)"," 1s")),U()(t,":hover",de),U()(t,":focus",{fill:e.baseColor.fill.dark}),t},ge=function(e,t){return function(n){return{"::before":l()({background:"\n      radial-gradient(circle, ".concat(n[t].border.darker," 60%, transparent 70%)\n    "),borderRadius:"50%",content:'""',display:"block",zIndex:0},se),":hover::before":{animation:"".concat(e," 2000ms infinite cubic-bezier(.1,.12,.25,1)")}}}},be=function(e){return function(t){return l()({alignItems:"center",background:t.backgroundColor,borderRadius:"50%",display:"flex",fill:t[e].fill.light,justifyContent:"center",zIndex:2},se)}},Ee=function(e){return function(t){return{fill:t[e].fill.light}}},he=function(e){return{opacity:.25,cursor:"default"}},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return l()({padding:0,outline:0,border:0,userSelect:"none",cursor:"pointer","> svg":{pointerEvents:"none"},":active":{borderStyle:e?"solid":"none"}},t?fe:null)}},Ie=!1;function xe(e){var t=e.callback,n=e.ms,r=void 0===n?300:n,o=e.callImmediately,a=void 0===o||o,l=m.useState(!1),c=u()(l,2),i=c[0],s=c[1];!function(e,t){var n=m.useRef(e);function r(){n.current&&n.current()}m.useEffect(function(){n.current=e},[e]),m.useEffect(function(){if(null!==t){var e=setInterval(r,t);return function(){clearInterval(e)}}},[t])}(t,i?r:null);var d=m.useCallback(function(e){"touchstart"===e.type&&(Ie=!0),("mousedown"!==e.type||!Ie&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;return 0===e.button&&!(Object(ee.a)(t)&&e.ctrlKey)}(e))&&(a&&t(),s(!0))}),p=m.useCallback(function(){s(!1)});return ne(function(){if(i)return document.addEventListener("mouseup",p),function(){return document.removeEventListener("mouseup",p)}},[i]),{onMouseDown:d,onTouchStart:d,onTouchEnd:p}}function _e(e){var t=e.pulseOnHover,n=void 0===t||t,r=e.isAccentColor,o=void 0!==r&&r,a=e.children,l=ie(o);return m.createElement(E.K,null,function(e){return m.createElement(E.L,{keyframes:{pulseAnimation:ce}},function(t){var r=t.pulseAnimation;return m.createElement("div",{className:e([ue(l)].concat(n?ge(r,l):me))},a)})})}function ye(e){var t=e.isSuppressed,n=e.onClick;return m.createElement(E.K,null,function(e){return m.createElement("button",{className:"".concat(e([ve].concat(t?pe:[]))).concat(t?"":" "+oe),onClick:n},m.createElement(J,null))})}function Ce(e){var t=e.canUndo,n=void 0!==t&&t,r=e.isCircle,a=void 0!==r&&r,l=e.isFilled,c=void 0!==l&&l,i=e.isDisabled,s=void 0!==i&&i,u=e.isUndoSuppressed,d=void 0!==u&&u,p=e.isAccentColor,f=void 0!==p&&p,v=e.scale,g=void 0===v?"L":v,b=e.onClickAndHold,h=e.onUndo,w=ie(f),I=a?be(w):Ee(w),x=xe({callback:b,ms:re}),_=c||s?le[g]:ae[g];return m.createElement(E.K,null,function(e){return b?m.createElement(m.Fragment,null,m.createElement("button",o()({className:e([we(a,n),I])},x),_),n&&m.createElement(ye,{onClick:h,isSuppressed:d})):m.createElement("div",{className:e([we(a),I].concat(A()(s?[he]:[])))},_)})}function je(e){var t=e.isCircle,n=void 0!==t&&t?be("baseColor"):Ee("baseColor");return m.createElement(E.K,null,function(e){return m.createElement("div",{className:e(n)},m.createElement(V,null))})}function Se(e){var t=e.canUndo,n=e.isCircle,r=e.isFilled,a=e.isUndoSuppressed,l=e.disableReason,c=e.isAccentColor,i=e.scale,s=e.onClickAndHold,u=e.onUndo,d={isFilled:r,scale:i},p={onClickAndHold:s,isAccentColor:c},f=l?m.createElement(E.I,{darkTheme:!0,popoverRenderFn:function(){return m.createElement(E.b,{padding:"8px",whiteSpace:"nowrap"},l)},placement:"top",targetDistance:15},m.createElement(Ce,o()({isDisabled:!0},d))):n?m.createElement(_e,{pulseOnHover:!r,isAccentColor:c},m.createElement(Ce,o()({isCircle:!0,canUndo:t,isUndoSuppressed:a,onUndo:u},d,p))):m.createElement(Ce,o()({},d,p)),v=n?m.createElement(_e,null,m.createElement(je,{isCircle:!0})):m.createElement(je,null);return m.createElement(N.a,{name:"enable_lite_claps"},function(e){return e?f:v})}var Oe=n("./node_modules/pluralize/pluralize.js"),ke=n.n(Oe),Le=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Re=n.n(Le),Ae=n("./node_modules/lodash/cloneDeep.js"),Pe=n.n(Ae),Ue=n("./src/framework/design-system/type/index.js"),Ne=n("./src/framework/design-system/util/type/toRule.js"),Me=n("./src/components/user/UserAvatar.jsx"),De=n("./src/components/user/UserFollowButton.jsx");function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Te=d.a.createElement("g",{fillRule:"evenodd"},d.a.createElement("path",{d:"M7.94 1h-.89L7.5 2.9zM10.09 1.33l-.84-.3-.23 1.95zM5.73 1.04l-.84.3L5.97 3zM5.63 11.57a3043.52 3043.52 0 0 0-1.6-1.6C2.32 8.26 1.25 7.5 1.75 7c.25-.25.62-.3.93 0 .45.46 1.54 1.65 1.54 1.65a.69.69 0 0 0 .34.2c.17.04.36-.06.5-.2.14-.13.06-.47-.06-.6L2.94 5.98c-.29-.29-.39-.78-.08-1.09.3-.29.64-.14.9.12l2.1 2.15a.33.33 0 0 0 .24.1.42.42 0 0 0 .26-.12c.13-.12.2-.36.07-.49L5 5.2c-.56-.56-.6-.95-.36-1.2.35-.35.82-.24 1.45.48l2.8 2.95-.59-1.46s-.37-.97 0-1.17c.37-.2.74.33 1 .72l1.37 2.62a3.29 3.29 0 0 1-.57 4.05c-1.22 1.22-3.18.69-4.48-.6z"}),d.a.createElement("path",{d:"M11.37 4.73c-.26-.4-.7-.4-.98-.19-.19.15-.16.48-.15.7l1.18 2.07c.91 1.49 1.23 2.7.19 4.1.31-.14.4-.27.58-.49.65-.8 1.05-2.47.39-3.88a3.35 3.35 0 0 0-.03-.05l-1.18-2.26z"})),Fe=function(e){return d.a.createElement("svg",ze({width:15,height:15},e),Te)},Be=n("./src/util/routes.js");function Ve(){var e=i()(["\n  query PostVotersDialogQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      title\n      clapCount\n      voterCount\n      voters(paging: $pagingOptions) {\n        items {\n          user {\n            id\n            username\n            name\n            bio\n            ...UserAvatar_user\n            ...UserFollowButton_user\n          }\n          clapCount\n        }\n        pagingInfo {\n          next {\n            page\n          }\n        }\n      }\n      ...UserFollowButton_post\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}var Ge=function(e){return{position:"relative",bottom:"12px",borderRadius:"10px",color:e.backgroundColor,fill:e.backgroundColor,background:e.accentColor.fill.normal,textAlign:"center"}},Ke=function(e){return l()({left:"20px",padding:"0 6px"},Object(Ne.a)(function(e){return{font:e.font.uiHeavy,fontSize:15,lineHeight:20}})(e))},He=function(e){return{left:"24px",padding:"0 2px"}},$e=function(e){var t=e.clapCount,n=[Ge,t?Ke:He];return m.createElement(E.K,null,function(e){return m.createElement("span",{className:e(n)},t?"+".concat(t):m.createElement(Fe,null))})},We=function(e){var t=e.user,n=e.clapCount,r=e.post,o=t.username,a=t.name,l=t.bio,c=void 0===l?"":l;return a&&o?m.createElement(E.b,{padding:"12px 0"},m.createElement(E.b,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},m.createElement(E.b,{display:"flex",alignItems:"flex-start"},m.createElement(E.b,{marginRight:"20px"},m.createElement(Me.c,{user:t,scale:"S"}),m.createElement($e,{clapCount:n})),m.createElement(E.b,{display:"flex",flexDirection:"column",alignItems:"flex-start"},m.createElement(E.v,{href:Object(Be.Eb)(o)},m.createElement(Ue.b,{scale:"XS"},a," ")),m.createElement(Ue.a,{scale:"S"},c))),m.createElement(E.b,{marginLeft:"48px"},m.createElement(De.c,{buttonSize:"SMALL",post:r,user:t})))):null},Qe=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=(e.loading,e.fetchMore),a=m.useCallback(function(){o&&o()});if(!r)return null;var l=r.title,c=r.voters,i=r.clapCount,s=r.voterCount;return m.createElement(E.k,{isVisible:t,hide:n,withAnimation:!0},m.createElement(E.b,{maxWidth:"550px",sm:{paddingTop:"0"},paddingTop:"88px"},m.createElement(E.b,{display:"flex",flexDirection:"column",marginBottom:"24px",textAlign:"center"},m.createElement(Ue.b,{scale:"S"},i," claps from ",s," ",1===s?"person":"people",' for "',l,'"')),c&&c.items.map(function(e){var t=e.user,n=e.clapCount;return t&&m.createElement(We,{user:t,clapCount:n,post:r,key:t.id})}),o&&m.createElement(E.b,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},m.createElement(E.c,{buttonStyle:"SOCIAL",size:"SMALL",onClick:a},"Show more claps"))))};function qe(e){var t=e.postId,n=e.isVisible,r=Re()(e,["postId","isVisible"]);return n&&m.createElement(v.c,{ssr:!1,query:Xe,variables:{postId:t,pagingOptions:{limit:10}}},function(e){var t,a=e.data.post,l=void 0===a?{}:a,c=e.loading,i=e.error,s=e.fetchMore;if(c)return m.createElement(E.w,null);if(i||!l)return null;var u=l.voters.pagingInfo&&l.voters.pagingInfo.next;if(u){u.__typename;var d=Re()(u,["__typename"]);t=function(){return s({variables:{pagingOptions:d},updateQuery:function(e,t){var n=t.fetchMoreResult,r=Pe()(n);return r.post.voters.items=[].concat(A()(e.post.voters.items),A()(n.post.voters.items)),r}})}}return m.createElement(Qe,o()({isVisible:n,post:l,loading:c,fetchMore:t},r))})}var Xe=f()(Ve(),Me.a,De.b,De.a),Ye=n("./src/framework/design-system/components/util/VisibilityController.jsx"),Je=n("./src/framework/design-system/type/Detail.js"),Ze=n("./src/util/numbers.js");function et(){var e=i()(["\n  fragment PostVotersNetwork_post on Post {\n    voterCount\n    viewerClapCount\n    recommenders {\n      name\n    }\n  }\n"]);return et=function(){return e},e}var tt=function(e){var t=e.post,n=e.showVoters,r=(t.viewerClapCount?[{name:"you"}]:[]).concat(t.recommenders||[]).slice(0,2).map(function(e){return e.name});if(!r.length)return null;var o=(t.voterCount||0)-r.length,a=r.join(o>0?", ":" and "),l="".concat(r.length>1?",":""," and"),c=ke()("other",o),i=o>0?"".concat(l," ").concat(Object(Ze.e)(o)," ").concat(c):"";return m.createElement(E.b,{sm:{display:"none"}},m.createElement(E.v,{onClick:n},m.createElement(Ue.a,{scale:"S"},"Applause from ".concat(a).concat(i))))},nt=f()(et());function rt(){var e=i()(["\n  fragment MultiVoteCount_post on Post {\n    id\n    ...PostVotersNetwork_post\n  }\n  ","\n"]);return rt=function(){return e},e}function ot(e){var t=e.clapCount,n=e.hasLabel,r=void 0!==n&&n,o=e.showFullNumber,a=void 0!==o&&o,l=e.post,c=e.shouldShowNetwork,i=e.hasDialog,s=void 0!==i&&i,u=l.id;if(!(t>0))return null;var d=r?ke()("clap",t):"",p=function(e){var t=e.showVoters;return c?m.createElement(tt,{showVoters:t,post:l}):null},f="".concat(a?Object(Ze.e)(t):Object(Ze.b)(t)," ").concat(d),v=function(e){var t=e.showVoters;return m.createElement(E.K,null,function(e){return m.createElement("div",{className:e(function(e){return{"& button":{textAlign:"left"}}})},m.createElement(Je.a,{color:r?"DARKER":"LIGHTER",scale:"M"},t?m.createElement(E.v,{onClick:t},f):f,m.createElement(p,{showVoters:t})))})},g=s&&u?m.createElement(Ye.a,null,function(e){var t=e.isVisible,n=e.show,r=e.hide;return m.createElement(m.Fragment,null,m.createElement(v,{showVoters:n}),m.createElement(qe,{isVisible:t,hide:r,postId:u}))}):m.createElement(v,null),b=m.createElement(E.b,{display:"flex",alignItems:"center",marginLeft:"10px"},"".concat(Object(Ze.b)(t)," ").concat(d),m.createElement(p,null));return m.createElement(N.a,{name:"enable_lite_claps"},function(e){return e?g:b})}var at=f()(rt(),nt),lt={"0%":{transform:"matrix(0.97, 0, 0, 1, 0, 12)",opacity:"0"},"20%":{transform:"matrix(0.99, 0, 0, 1, 0, 2)",opacity:".7"},"40%":{transform:"matrix(1, 0, 0, 1, 0, -1)",opacity:"1"},"70%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"},"100%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"}},ct="400ms ease-out",it={"0%":{opacity:"1",transform:"translateY(0px)"},"10%":{opacity:"1",transform:"translateY(-3px)"},"100%":{opacity:"0",transform:"translateY(-50px)"}},st="400ms ease-out 500ms",ut={"0%":{transform:"scale(1)"},"15%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},mt="500ms",dt=function(e,t){return function(n){return{backgroundColor:n[t?"accentColor":"baseColor"].fill.normal,bottom:"FAR"===e?"85px":"39px",color:"#fff",borderRadius:"50%",fontSize:"15px",height:"35px",left:"FAR"===e?"12px":"-4px",lineHeight:"35px",position:"absolute",textAlign:"center",width:"35px"}}},pt=function(e,t){var n=e.current;n&&(n.style.animation=t,n.scrollTop)};function ft(e){var t=e.clappedAt,n=e.count,r=e.isAccentColor,o=e.onFloatEnd,a=e.placement,l=m.useState(t),c=u()(l,2),i=c[0],s=c[1],d=t!==i,p=m.useRef({enter:"",exit:"",pop:""}),f=m.useRef(null),v=m.useCallback(function(e){f.current=e,e&&pt(f,"".concat(p.current.enter," ").concat(ct))},[]);function g(e){var t=p.current;e.animationName===t.enter||e.animationName===t.pop?pt(f,"".concat(t.exit," ").concat(st)):e.animationName===t.exit&&o()}return d&&(pt(f,""),pt(f,"".concat(p.current.pop," ").concat(mt)),s(t)),m.createElement(E.K,null,function(e){return m.createElement(E.L,{keyframes:{enter:lt,exit:it,pop:ut}},function(t){return p.current=t,m.createElement("div",{ref:v,className:e([dt(a,r)]),onAnimationEnd:g},"+".concat(n))})})}var vt={"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},gt=function(e,t){return{animation:"".concat(t," 500ms 1")}};function bt(e){var t=e.isPopping,n=void 0!==t&&t,r=e.onPopEnd,o=e.children;return m.createElement(E.K,null,function(e){return m.createElement(E.L,{keyframes:{popAnimation:vt}},function(t){var a=t.popAnimation;return m.createElement("div",{className:n?e(gt(n,a)):"",onAnimationEnd:r},o)})})}var Et=n("./src/components/session/WithViewer.jsx"),ht=n("./src/components/susi/SusiClickable.jsx"),wt=n("./src/framework/reporter/index.js"),It=n("./src/framework/source/index.js"),xt=n("./src/store/actions/multiVote.js");function _t(){var e=i()(["\n  mutation clap($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      ...MultiVote_post\n    }\n  }\n  ","\n"]);return _t=function(){return e},e}function yt(){var e=i()(["\n  fragment MultiVote_post on Post {\n    id\n    clapCount\n    creator {\n      id\n      ...SusiClickable_user\n    }\n    viewerClapCount\n    isPublished\n    ...SusiClickable_post\n    collection {\n      id\n      slug\n    }\n    ...MultiVoteCount_post\n  }\n  ","\n  ","\n  ","\n"]);return yt=function(){return e},e}n.d(t,"b",function(){return Ot}),n.d(t,"c",function(){return kt}),n.d(t,"d",function(){return Lt}),n.d(t,"a",function(){return Pt});var Ct=500,jt=50,St={SUBTLE:"S",SUBTLE_PADDED:"M",OBVIOUS:"L"};var Ot=f()(yt(),ht.c,ht.e,at),kt=f()(_t(),Ot),Lt=function(e){var t=e.ownProps,n=e.mutate;return{submitClaps:function(e){return n({variables:{targetPostId:t.post.id,userId:t.viewerId,numClaps:e},optimisticResponse:{__typename:"Mutation",clap:l()({__typename:"Post"},t.post,{clapCount:t.post.clapCount+e,viewerClapCount:t.post.viewerClapCount+e})},update:function(n,r){var o=r.data.clap,a=n.readFragment({id:"Post:".concat(o.id),fragment:Ot,fragmentName:"MultiVote_post"});n.writeFragment({id:"Post:".concat(o.id),fragment:Ot,fragmentName:"MultiVote_post",data:l()({},a,{clapCount:t.post.clapCount+e,viewerClapCount:t.post.viewerClapCount+e})})}})}}},Rt=Object(v.f)(kt,{props:Lt})(function(e){var t=e.post,n=e.viewerId,r=e.buttonStyle,o=e.setClapCountsForPost,a=e.clearClapCountsForPost,l=e.submitClaps,c=e.clapsPerPost,i=e.hasDialog,s=e.isAccentColor,d=void 0===s?!!t.collection:s,p=m.useState(null),f=u()(p,2),v=f[0],g=f[1],h=m.useState(0),w=u()(h,2),I=w[0],x=w[1],_=m.useState([]),y=u()(_,2),C=y[0],j=y[1],S=m.useState(!1),O=u()(S,2),k=O[0],R=O[1],A=m.useState(!1),P=u()(A,2),U=P[0],D=P[1],z=m.useState(0),T=u()(z,2),F=T[0],B=T[1],V=Object(b.a)(t,c),G=V.clapCount,K=V.viewerClapCount,H=V.viewerHasClappedSinceFetch,$=Object(wt.c)(),W=Object(It.c)();function Q(e){j(C.filter(function(t){return t!==e}))}function q(){l(I),x(0),$.event("post.clientUpvote",{postId:t.id,postIds:[t.id],voteCount:I,source:W})}m.useEffect(function(){if(clearTimeout(v),0!==I){var e=setTimeout(q,Ct);g(e)}else g(null)},[I]),m.useEffect(function(){return function(){a({postId:t.id})}},[]);var X,Y=t.collection,J=t.creator,Z=t.id,ee=t.isPublished,te=(X=!(!J||J.id!==n),ee?X?"You cannot applaud your own story.":void 0:"You cannot applaud a draft."),ne="OBVIOUS"===r,re=!!(K&&K>0),oe=!!(G&&G>0),ae=St[r],le=Y&&Y.slug?Object(Be.wb)(Y.slug,Z):Object(Be.vb)(Z),ce=m.createElement(E.b,{display:"flex",alignItems:"center"},m.createElement(E.b,{marginRight:ne&&!te?"16px":"5px",position:"relative"},n||te?m.createElement(m.Fragment,null,k&&m.createElement(ft,{count:K,clappedAt:F,placement:ne?"FAR":"NEAR",isAccentColor:d,onFloatEnd:function(){R(!1)}}),m.createElement(bt,{isPopping:U,onPopEnd:function(){D(!1)}},m.createElement(Se,{scale:ae,canUndo:re,isAccentColor:d,isCircle:ne,isFilled:re,isUndoSuppressed:C.length>0,disableReason:te,onClickAndHold:function(){for(var e=360*Math.random();-1!==C.indexOf(e);)e+=360;j(C.concat(e)),B(Date.now()),R(!0),D(!0),K&&K>=jt||(o({postId:t.id,clapCount:G+1,viewerClapCount:K+1,viewerHasClappedSinceFetch:!0}),x(I+1))},onUndo:function(){K&&(l(-K),o({postId:t.id,clapCount:G-K,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),x(0),$.event("post.clientUnvote",{postId:t.id,postIds:[t.id],unvoteCount:K,source:W}))}})),C.map(function(e){return m.createElement(L,{key:e,isLarge:ne,offset:e,onBurstEnd:Q})})):m.createElement(ht.a,{operation:"register",post:t,user:t.creator,actionUrl:le},m.createElement(Se,{isAccentColor:d,isCircle:ne,scale:ae}))),oe&&!k&&m.createElement(E.b,{marginTop:"5px"},m.createElement(ot,{shouldShowNetwork:ne,post:t,clapCount:G,showFullNumber:H,hasLabel:ne,hasDialog:i}))),ie=m.createElement(E.b,{display:"flex",alignItems:"center"},m.createElement(E.b,{paddingRight:"12px"},m.createElement(ht.a,{operation:"register",post:t,user:t.creator,actionUrl:le},m.createElement(Se,{isCircle:!0}))),oe&&m.createElement(ot,{hasLabel:!0,shouldShowNetwork:ne,clapCount:G,post:t,hasDialog:i})),se=m.createElement(E.b,{marginLeft:"5px",display:"flex",alignItems:"center"},m.createElement(ht.a,{operation:"register",post:t,user:t.creator,actionUrl:le},m.createElement(E.b,{tag:M.a,marginRight:"8px"})),m.createElement(E.b,{alignSelf:"flex-end",marginTop:"3px"},t.clapCount&&t.clapCount>0?m.createElement(Ue.a,{scale:"M"},Object(Ze.b)(t.clapCount)):null)),ue=m.createElement(m.Fragment,null,m.createElement(E.b,{tag:M.a,marginRight:"8px"}),m.createElement("div",null,0===t.clapCount?null:Object(Ze.b)(t.clapCount||0)));return m.createElement(N.a,{name:"enable_lite_claps"},function(e){return e?ce:function(){switch(r){case"OBVIOUS":return ie;case"SUBTLE_PADDED":return se;case"SUBTLE":return ue;default:return ie}}()})}),At={setClapCountsForPost:xt.d,clearClapCountsForPost:xt.c},Pt=Object(g.b)(function(e){return{clapsPerPost:e.multiVote.clapsPerPost}},At)(function(e){var t=e.post;return m.createElement(It.b,{source:{postId:t&&t.id},extendSource:!0},m.createElement(Et.a,null,function(t){return m.createElement(Rt,o()({},e,{viewerId:t&&t.id}))}))})},"./src/components/ui/image/FocusableMiroImage.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.js"),a=n("./src/framework/design-system/util/style/responsiveStyles.js"),l=n("./src/util/miroImage.js"),c=function(e){return"number"==typeof e?"".concat(e,"px"):e},i=function(e){return"".concat(e[0],"% ").concat(e[1],"%")},s=function(e){return e};function u(e){var t=e.backgroundImage,n=e.boxShadowRules,u=e.miroId,m=e.height,d=e.width,p=e.minHeight,f=e.minWidth,v=e.imgHeight,g=e.imgWidth,b=e.focusPercent,E=e.strategy,h=void 0===E?"RESAMPLE":E,w=e.darken,I=e.freezeGifs,x=t;if(!x){var _=Object(l.a)({miroId:u,height:v,width:g,strategy:h,darken:w,freezeGifs:I});x="url(".concat(_,")")}var y=Object(a.b)(m,c),C=Object(a.b)(d,c),j=p&&Object(a.b)(p,c),S=f&&Object(a.b)(f,c),O=Object(a.b)(b,i),k=Object(a.b)(x,s),L=function(e){return Object(a.a)(e,{backgroundImage:k,display:"block",backgroundOrigin:"border-box",backgroundSize:"cover",height:y,width:C,minHeight:j,minWidth:S,backgroundPosition:O,maxWidth:"100%"})};return r.createElement(o.K,null,function(e){return r.createElement("div",{className:e([L,n])})})}u.defaultProps={focusPercent:[50,50]}},"./src/components/user/UserFollowButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),i=n("./src/components/session/WithViewer.jsx"),s=n("./src/framework/design-system/components/index.js"),u=n("./node_modules/react-apollo/react-apollo.esm.js"),m=n("./src/framework/source/index.js"),d=n("./src/framework/reporter/index.js");function p(){var e=o()(["\n  fragment UserFollowButtonSignedIn_user on User {\n    id\n    isFollowing\n  }\n"]);return p=function(){return e},e}function f(){var e=o()(["\n  mutation unfollowUser($targetUserId: ID!) {\n    unfollowUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return f=function(){return e},e}function v(){var e=o()(["\n  mutation followUser($targetUserId: ID!) {\n    followUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return v=function(){return e},e}var g=c()(v()),b=c()(f()),E=c()(p()),h=Object(u.d)(Object(u.f)(g,{name:"followUser",props:function(e){var t=e.ownProps,n=e.followUser;return{followUser:function(){return n({variables:{targetUserId:t.user.id},optimisticResponse:{__typename:"Mutation",followUser:{__typename:"User",id:t.user.id,isFollowing:!0}}})}}}}),Object(u.f)(b,{name:"unfollowUser",props:function(e){var t=e.ownProps,n=e.unfollowUser;return{unfollowUser:function(){return n({variables:{targetUserId:t.user.id},optimisticResponse:{__typename:"Mutation",unfollowUser:{__typename:"User",id:t.user.id,isFollowing:!1}}})}}}}))(function(e){var t=e.user,n=e.followUser,r=e.unfollowUser,o=e.buttonSize,l=void 0===o?"REGULAR":o,c=e.buttonStyleFn,i=void 0===c?function(e){return e?"STRONG":"OBVIOUS"}:c,u=Object(d.c)(),p=Object(m.e)(),f=t.isFollowing,v=i(!!f),g=a.useCallback(function(){return u.event("user.followed",{targetUserId:t.id,followSource:p}),n()}),b=a.useCallback(function(){return u.event("user.unfollowed",{targetUserId:t.id,followSource:p}),r()});return a.createElement(s.c,{onClick:f?b:g,buttonStyle:v,size:l},f?"Following":"Follow")}),w=n("./src/components/susi/SusiClickable.jsx"),I=n("./src/util/routes.js");function x(){var e=o()(["\n  fragment UserFollowButtonSignedOut_post on Post {\n    ...SusiClickable_post\n  }\n  ","\n"]);return x=function(){return e},e}function _(){var e=o()(["\n  fragment UserFollowButtonSignedOut_user on User {\n    id\n    ...SusiClickable_user\n  }\n  ","\n"]);return _=function(){return e},e}var y=function(e){var t=e.buttonSize,n=void 0===t?"REGULAR":t,r=e.isObvious,o=void 0!==r&&r,l=e.user,c=e.post;return a.createElement(m.b,{source:{userId:l.id},extendSource:!0},a.createElement(w.a,{buttonSize:n,isButton:!0,isObvious:o,operation:"register",post:c,user:l,actionUrl:c?Object(I.nb)(l.id,c.id):Object(I.mb)(l.id)},"Follow"))},C=c()(_(),w.e),j=c()(x(),w.c);function S(){var e=o()(["\n  fragment UserFollowButton_post on Post {\n    ...UserFollowButtonSignedOut_post\n  }\n  ","\n"]);return S=function(){return e},e}function O(){var e=o()(["\n  fragment UserFollowButton_user on User {\n    ...UserFollowButtonSignedIn_user\n    ...UserFollowButtonSignedOut_user\n  }\n  ","\n  ","\n"]);return O=function(){return e},e}n.d(t,"b",function(){return k}),n.d(t,"a",function(){return L});t.c=function(e){var t=e.user,n=e.buttonSize,r=void 0===n?"REGULAR":n,o=e.buttonStyleFn,l=void 0===o?function(e){return e?"STRONG":"OBVIOUS"}:o,c=e.post;return a.createElement(i.a,null,function(e){return e?e.id!==t.id&&a.createElement(h,{user:t,buttonSize:r,buttonStyleFn:l}):a.createElement(y,{post:c,user:t,buttonSize:r})})};var k=c()(O(),E,C),L=c()(S(),j)},"./src/svg/clap-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"}));t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25"},e),l)}},"./src/svg/clap-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM16.63 1.22L15.2.75l-.4 3.03zM9.79.75l-1.43.47 1.84 2.56zM22.47 13.3L19.45 8c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M12.58 9.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),o.a.createElement("path",{d:"M15.81 9.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.72.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L7.2 6.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L3.8 7.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L2.58 14.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"}));t.a=function(e){return o.a.createElement("svg",a({width:25,height:25},e),l)}},"./src/svg/unlisted-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),o.a.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));t.a=function(e){return o.a.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19"},e),l)}},"./src/util/post/claps.js":function(e,t,n){"use strict";function r(e,t){return t[e.id]||{clapCount:e.clapCount||0,viewerClapCount:e.viewerClapCount||0,viewerHasClappedSinceFetch:!1}}n.d(t,"a",function(){return r})}}]);
//# sourceMappingURL=screen.post~screen.post.amp~screen.post.series~screen.profile~screen.sequence.library~screen.sequenc~036c6b37.7ef5bb14.chunk.js.map